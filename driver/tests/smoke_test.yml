# What physics do we include in our run?
aerosol_physics:
  growth:               true
  gas_chemistry:        false
  cloud_chemistry:      false
  gas_aerosol_exchange: true
  mode_merging:         true
  nucleation:           true
  coagulation:          true

# I think we should scuttle these parameters, which determine the units in which
# haero interprets input parameters.
units:
  num_unit:       0
  frac_unit:      0
  gas_unit:       1

# macroscopic atmospheric conditions for a column.
background:
  mu:              # mean molecular weight for air [kg/mol]
  H:        3.e3   # scale height [m] of the atmosphere
  p0:       1.e5   # reference pressure at z = 0 [Pa]
  temp:     273    # air temperature [K]
  RH_CLEA:  0.95   # clear-sky RH [?]
  cld_frac: 0      # cloud fraction [-]

# Grid geometry
grid:
  num_columns: 1
  num_levels:  128

# Defining several values for any initial condition causes the driver to be
# run in "ensemble mode", in which it runs an ensemble of simulations whose
# initial conditions are the outer product of the defined set.
initial_conditions:
  # Accumulation mode [mass fraction]
  mfso41: 0.3
  mfpom1: 0
  mfsoa1: 0.3
  mfbc1:  0
  mfdst1: 0
  mfncl1: 0.4
  # Aitkin mode [mass fraction]
  mfso42: 0.3
  mfsoa2: 0.3
  mfncl2: 0.4
  # Coarse mode [mass fraction]
  mfdst3: 0
  mfncl3: 0.4
  mfso43: 0.3
  mfbc3:  0
  mfpom3: 0
  mfsoa3: 0.3
  # Primary carbon mode [mass fraction]
  mfpom4: 0
  mfbc4:  1
  # Gases [kmol gas/kmol air]
  qso2:   1.e-4
  qh2so4: 1.e-13
  qsoag:  5.e-10
  # Modal number densities [#/m3]
  numc1: 1.e8
  numc2: 1.e9
  numc3: 1.e5
  numc4: 5.e8

  num_factor: 1
  gas_factor: 1

  # Constant gas chemistry production rate [mol gas / mol air]
  h2so4_chem_prod_rate: 1.0e-16

# Timestep [s]
timestep: 1

# Simulation duration [s]
duration: 1800

# Output options
output:
  directory: .       # directory in which to generate output files
  prefix: smoke_test # prefix for each output file
  frequency: 1       # number of steps between output dumps
